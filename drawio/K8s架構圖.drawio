<mxfile host="65bd71144e">
    <diagram id="dev-iscapt" name="dev-iscapt">
        <mxGraphModel dx="5156" dy="1808" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="1400" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="ns-icon" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=ns" parent="1" vertex="1">
                    <mxGeometry x="163" y="105" width="80" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="ns-label" value="Namespace: ntub-secumanage (dev iscapt)" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1;fontSize=16;" parent="1" vertex="1">
                    <mxGeometry x="260" y="127" width="360" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="internet" value="外部使用者 / Client" style="shape=process;whiteSpace=wrap;html=1;rounded=1;strokeColor=#1976D2;fillColor=#E3F2FD;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="-198" y="221" width="180" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="ingress-icon" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=ing" parent="1" vertex="1">
                    <mxGeometry x="167" y="220" width="76" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="ingress-label" value="&lt;div&gt;&lt;b&gt;ntub-secumanage-ingress&lt;/b&gt;&lt;br/&gt;nginx ingress class&lt;br/&gt;Host: inc-isms-dev.ntub.edu.tw&lt;br/&gt;TLS 暫存在 SealedSecret (ntub-secumanage-tls)&lt;br/&gt;路由:/app -&gt; Frontend - /api -&gt; Backend&lt;br/&gt; /rabbitmq -&gt; RabbitMQ Management&lt;br/&gt; /minio-console -&gt; MinIO Console - /minio-api -&gt; MinIO API&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=top;resizable=1;points=[];strokeColor=#C5CAE9;fillColor=#E8EAF6;fontSize=13;rounded=1;" parent="1" vertex="1">
                    <mxGeometry x="35" y="303" width="360" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="edge-client-ingress" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1976D2;strokeWidth=2;" parent="1" source="internet" target="ingress-icon" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-svc" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=svc" parent="1" vertex="1">
                    <mxGeometry x="480" y="360" width="72" height="68" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-svc-label" value="&lt;div&gt;ntub-secumanage-frontend-service&lt;br/&gt;ClusterIP - 80-&gt;80&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="420" y="460" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="478.5" y="560" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-pod" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=pod" parent="1" vertex="1">
                    <mxGeometry x="612" y="804" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-pod-label" value="Pod - resources req 100m/256Mi" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="542" y="875" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="edge-ingress-frontend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="ingress-icon" target="frontend-svc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-frontend-svc-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="frontend-svc" target="frontend-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-frontend-deploy-pod" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="frontend-deploy" target="frontend-pod" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="backend-svc" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=svc" parent="1" vertex="1">
                    <mxGeometry x="783" y="76" width="72" height="68" as="geometry"/>
                </mxCell>
                <mxCell id="backend-svc-label" value="&lt;div&gt;ntub-secumanage-backend-service&lt;br/&gt;ClusterIP - 8000-&gt;8000&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="722" y="153" width="210" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="backend-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="780" y="562" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="backend-pod" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=pod" parent="1" vertex="1">
                    <mxGeometry x="912" y="802" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="backend-pod-label" value="Pod - req 200m/512Mi" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="842" y="877" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="edge-ingress-backend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="ingress-icon" target="backend-svc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-backend-svc-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="backend-svc" target="backend-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-backend-deploy-pod" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="backend-deploy" target="backend-pod" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="rabbitmq-svc" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=svc" parent="1" vertex="1">
                    <mxGeometry x="1077" y="367" width="72" height="68" as="geometry"/>
                </mxCell>
                <mxCell id="rabbitmq-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="1077" y="560" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="rabbitmq-pvc" value="20Gi microk8s-hostpath" style="shape=mxgraph.kubernetes.icon2;prIcon=pvc;html=1;fillColor=#2875E2;strokeColor=#ffffff;aspect=fixed;spacingTop=80;" parent="1" vertex="1">
                    <mxGeometry x="1079" y="945" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="rabbitmq-pod" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=pod" parent="1" vertex="1">
                    <mxGeometry x="1079.5" y="799" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="edge-ingress-rabbitmq" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="ingress-icon" target="rabbitmq-svc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-rabbitmq-svc-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="rabbitmq-svc-label" target="rabbitmq-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-rabbitmq-deploy-pod" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="rabbitmq-deploy-label" target="rabbitmq-pod" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-rabbitmq-pod-pvc" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="rabbitmq-pod" target="rabbitmq-pvc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="rabbitmq-worker" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="988" y="1526" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="scheduler" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="1222.5" y="1526" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="postgres-svc" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=svc" parent="1" vertex="1">
                    <mxGeometry x="1473.5" y="367" width="72" height="68" as="geometry"/>
                </mxCell>
                <mxCell id="postgres-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="1472" y="562" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="postgres-pod" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=pod" parent="1" vertex="1">
                    <mxGeometry x="1474" y="804" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="edge-backend-postgres" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#26A69A;strokeWidth=2;" parent="1" source="backend-svc" target="postgres-svc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-postgres-svc-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="postgres-svc-label" target="postgres-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-postgres-deploy-pod" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="postgres-deploy-label" target="postgres-pod" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-postgres-pod-pvc" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="postgres-pod" target="postgres-pvc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="minio-svc" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=svc" parent="1" vertex="1">
                    <mxGeometry x="2255" y="220" width="72" height="68" as="geometry"/>
                </mxCell>
                <mxCell id="minio-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="2252" y="579" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="minio-pvc" value="35Gi microk8s-hostpath" style="shape=mxgraph.kubernetes.icon2;prIcon=pvc;html=1;fillColor=#2875E2;strokeColor=#ffffff;aspect=fixed;" parent="1" vertex="1">
                    <mxGeometry x="2468" y="579" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="edge-ingress-minio" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="ingress-icon" target="minio-svc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-minio-svc-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="minio-svc-label" target="minio-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-minio-deploy-pvc" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="minio-deploy" target="minio-pvc" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ollama-svc" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=svc" parent="1" vertex="1">
                    <mxGeometry x="1869" y="367" width="72" height="68" as="geometry"/>
                </mxCell>
                <mxCell id="ollama-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="1867.5" y="573" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="ollama-pvc" value="50Gi microk8s-hostpath" style="shape=mxgraph.kubernetes.icon2;prIcon=pvc;html=1;fillColor=#2875E2;strokeColor=#ffffff;aspect=fixed;" parent="1" vertex="1">
                    <mxGeometry x="2075" y="576" width="70" height="66" as="geometry"/>
                </mxCell>
                <mxCell id="edge-ollama-svc-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="ollama-svc-label" target="ollama-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-ollama-deploy-pvc" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="ollama-deploy" target="ollama-pvc" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1831.0028571428577" y="1000" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="alloy-deploy" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=deploy" parent="1" vertex="1">
                    <mxGeometry x="155.5" y="560" width="75" height="72" as="geometry"/>
                </mxCell>
                <mxCell id="loki-target" value="Loki (observability namespace)" style="shape=process;whiteSpace=wrap;html=1;rounded=1;strokeColor=#00897B;fillColor=#E0F2F1;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="93" y="811" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="edge-alloy-loki" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00897B;strokeWidth=2;" parent="1" source="alloy-label" target="loki-target" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-sealed-frontend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="frontend-deploy-label" target="frontend-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-sealed-backend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="backend-deploy-label" target="backend-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-sealed-rabbitmq" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="rabbitmq-worker-label" target="rabbitmq-worker" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-sealed-scheduler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="scheduler-label" target="scheduler" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-sealed-minio" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="minio-deploy-label" target="minio-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="2136.666666666668" y="1007" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="2292" y="857"/>
                            <mxPoint x="2290" y="857"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-sealed-ollama" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="ollama-deploy-label" target="ollama-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-backend-minio" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#26A69A;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="backend-svc" target="minio-svc" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="819" y="27"/>
                            <mxPoint x="2291" y="27"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge-backend-ollama" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#26A69A;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="backend-svc" target="ollama-svc" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="832.0011111111113" y="75.89" as="sourcePoint"/>
                        <mxPoint x="1841.89" y="454.89" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="819" y="28"/>
                            <mxPoint x="1905" y="28"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="secrets-icon" target="minio-deploy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="628" y="1263" as="sourcePoint"/>
                        <mxPoint x="2060" y="971" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="minio-deploy-label" value="&lt;div&gt;ntub-secumanage-minio&lt;br/&gt;Deployment - 1 replica&lt;br/&gt;Image: quay.io/minio/minio:latest&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="2166" y="1041" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="secrets-icon" target="ollama-deploy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="628" y="1263" as="sourcePoint"/>
                        <mxPoint x="1643" y="971" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ollama-deploy-label" value="&lt;div&gt;ntub-secumanage-ollama&lt;br/&gt;Deployment - 1 replica&lt;br/&gt;Image: ollama/ollama:latest&lt;br/&gt;GPU disabled (CPU requests 500m/1Gi)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="1738" y="671" width="330" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="secrets-icon" target="scheduler-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="628" y="1263" as="sourcePoint"/>
                        <mxPoint x="1237" y="1052" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="1260" y="1265"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="scheduler-label" value="&lt;div&gt;ntub-secumanage-scheduler&lt;br/&gt;Deployment - 1 replica&lt;br/&gt;Image: ghcr.io/...-scheduler:02306dd&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="1135" y="1340" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="secrets-icon" target="rabbitmq-worker-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="628" y="1263" as="sourcePoint"/>
                        <mxPoint x="1017" y="1052" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="1024" y="1265"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rabbitmq-worker-label" value="&lt;div&gt;ntub-secumanage-rabbitmq&lt;br/&gt;Worker Deployment - 1 replica&lt;br/&gt;Image: ghcr.io/...-rabbitmq:01d2d66&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="899" y="1338" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00897B;strokeWidth=2;" parent="1" source="alloy-deploy" target="alloy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="193" y="632" as="sourcePoint"/>
                        <mxPoint x="193" y="811" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="alloy-label" value="&lt;div&gt;grafana/alloy&lt;br/&gt;Collect logs/metrics&lt;br/&gt;Push -&gt; http://loki.observability.svc.cluster.local:3100&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="73" y="691" width="240" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="secrets-icon" target="frontend-deploy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="518" y="1188" as="sourcePoint"/>
                        <mxPoint x="516" y="632" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="frontend-deploy-label" value="&lt;div&gt;ntub-secumanage-frontend&lt;br/&gt;Deployment - replicas: 1&lt;br/&gt;Image: ghcr.io/...-frontend:1e7a866&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="391" y="678" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#8E24AA;dashed=1;" parent="1" source="secrets-icon" target="backend-deploy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="626" y="1265" as="sourcePoint"/>
                        <mxPoint x="817" y="634" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="backend-deploy-label" value="&lt;div&gt;ntub-secumanage-backend&lt;br/&gt;Deployment - replicas: 1&lt;br/&gt;Image: ghcr.io/...-backend:1e7a866&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="691" y="678" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="rabbitmq-deploy" target="rabbitmq-deploy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1255" y="636" as="sourcePoint"/>
                        <mxPoint x="1255" y="760" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rabbitmq-deploy-label" value="&lt;div&gt;ntub-secumanage-rabbitmq-server&lt;br/&gt;Deployment - 1 replica&lt;br/&gt;Image: rabbitmq:3-management&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="989.5" y="675" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="postgres-deploy" target="postgres-deploy-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1463" y="636" as="sourcePoint"/>
                        <mxPoint x="1461" y="760" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="postgres-deploy-label" value="&lt;div&gt;ntub-secumanage-postgres&lt;br/&gt;Stateful Deployment - 1 replica&lt;br/&gt;Image: pgvector/pgvector:pg17&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="1385" y="675" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="ollama-svc" target="ollama-svc-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1645" y="435" as="sourcePoint"/>
                        <mxPoint x="1643" y="899" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ollama-svc-label" value="&lt;div&gt;ntub-secumanage-ollama-service&lt;br/&gt;ClusterIP - 11434&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="1785" y="483" width="240" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="postgres-svc" target="postgres-svc-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1461" y="435" as="sourcePoint"/>
                        <mxPoint x="1463" y="564" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="postgres-svc-label" value="&lt;div&gt;ntub-secumanage-postgres-service&lt;br/&gt;LoadBalancer - 5432&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="1390" y="483" width="240" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="rabbitmq-svc" target="rabbitmq-svc-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1149" y="412" as="sourcePoint"/>
                        <mxPoint x="1279" y="548" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rabbitmq-svc-label" value="&lt;div&gt;ntub-secumanage-rabbitmq-server-service&lt;br/&gt;ClusterIP - 5672 / 15672&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="988" y="478" width="250" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5C6BC0;" parent="1" source="minio-svc" target="minio-svc-label" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="2291" y="288" as="sourcePoint"/>
                        <mxPoint x="2292" y="897" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="minio-svc-label" value="&lt;div&gt;ntub-secumanage-minio-service&lt;br/&gt;ClusterIP - 9000 / 9001&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="2171" y="317" width="240" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="alloy-role" value="Role: ntub-secumanage-alloy-reader" style="shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=role;aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="360" width="72" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="alloy-rolebinding" value="RoleBinding: ntub-secumanage-alloy-reader" style="shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=rb;aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="450" width="72" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="alloy-serviceaccount" value="ServiceAccount: ntub-secumanage-alloy" style="shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=sa;aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="540" width="72" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="alloy-configmap" value="ConfigMap: ntub-secumanage-alloy-config" style="shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=cm;aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="630" width="72" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="edge-alloy-rolebinding-role" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5E35B1;dashed=1;" parent="1" source="alloy-rolebinding" target="alloy-role" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-alloy-rolebinding-sa" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5E35B1;dashed=1;" parent="1" source="alloy-rolebinding" target="alloy-serviceaccount" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-alloy-sa-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5E35B1;dashed=1;" parent="1" source="alloy-serviceaccount" target="alloy-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-alloy-config-deploy" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0277BD;dashed=1;" parent="1" source="alloy-configmap" target="alloy-deploy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="secrets-icon" value="SealedSecret (bitnami)" style="shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=secret;aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="480" y="1200" width="72" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="secrets-label" value="Secrets generated: - ntub-secumanage-secret - ghcr-cred - ntub-secumanage-tls" style="text;html=1;align=left;verticalAlign=top;strokeColor=none;fillColor=none;fontSize=13;" parent="1" vertex="1">
                    <mxGeometry x="313" y="1277" width="260" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="postgres-pvc" value="50Gi microk8s-hostpath" style="shape=mxgraph.kubernetes.icon2;prIcon=pvc;fillColor=#2875E2;strokeColor=#ffffff;aspect=fixed;gradientColor=none;labelBackgroundColor=none;textShadow=1;html=1;spacingTop=80;spacing=0;spacingBottom=0;" parent="1" vertex="1">
                    <mxGeometry x="1474.5" y="945" width="70" height="66" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>